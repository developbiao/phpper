<!DOCTYPE HTML>
<html lang="en">
<head>
<title>index</title>
<meta http-equiv="content-type" content="text/html" charset="utf-8" />
<script type="text/javascript">
'use strict';
/*
function pow(x)
{
	return x * x;
}

var arr = [1, 2, 3, 4, 5, 6, 7, 8];
//arr = arr.map(pow);

console.log(arr.map(String));
*/

//filter
/*
var arr = [1, 2, 4, 5, 6, 9, 10, 15];
var new_arr = arr.filter(function (x){
	return x %2 !== 0;
});
*/
//reduce
/*
var arr = [1, 3, 5, 7, 9];
var some_value = arr.reduce(function(x, y){
	return x * y;
});

*/


//想办法把一个字符串13579先变成Array——[1, 3, 5, 7, 9]，再利用reduce()就可以写出一个把字符串转换为Number的函数。
function string2int(s) {
	var arr = s.split('');
	arr = arr.map(function (x){
			return +x;
	});

	
	return arr.reduce(function (x, y){
		//[1, 2, 3, 7, 9]
		//1 * 10 + 3 = 13;
		//13 * 10 + 5 = 135;
		//135 * 10 + 7 = 1357
		//......
		return x * 10  + y;
	});

}

// 测试:
if (string2int('0') === 0 && string2int('12345') === 12345 && string2int('12300') === 12300) {
    if (string2int.toString().indexOf('parseInt') !== -1) {
        alert('请勿使用parseInt()!');
    } else if (string2int.toString().indexOf('Number') !== -1) {
        alert('请勿使用Number()!');
    } else {
        alert('测试通过!');
    }
}
else {
    alert('测试失败!');
}

</script>
</head>
<body>
	<h3>Continue JavaScript Learn</h3>
</body>
</html>
