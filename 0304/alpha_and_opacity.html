<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="utf-8"/>
<title>index</title>
<style style="text/css">
#div1 {
	width:200px;
	height:200px;
	background:red;
	filter:alpha(opacity:30);
	opacity:0.3;
}
</style>
<script type="text/javascript">
window.onload = function (){
	var oDiv = document.getElementById('div1');
	oDiv.onmouseover = function (){
		startMove(100);
	};

	oDiv.onmouseout = function (){
		startMove(30);
	};

};

var alpha = 30;
var timer = null;

function startMove(iTarget){
	var oDiv = document.getElementById('div1');

	clearInterval(timer);
	timer = setInterval(function() {
		var speed = 0;
		if(alpha < iTarget){
			speed = 10;
		}
		else{
			speed = -10;
		}
		if(alpha == iTarget){
			clearInterval(timer);
		}else{
			alpha += speed;
			//兼容IE
			oDiv.style.filter = 'alpha(opacity:'+ alpha +')';
			//兼容Firefox 和Chrome
			oDiv.style.opacity = alpha / 100;
		}
	}, 30);
}
</script>
</head>
<body>
	<h3>Program runing is ok!</h3>
	<div id="div1">
	</div>
</body>
</html>
