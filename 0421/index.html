<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Ajax的使用</title>
	<meta http-equiv="Content-Type" content-type="text/html" charset="utf-8" />
	<script type="text/javascript" src="./ajax.js"></script>
	<script type="text/javascript">
	window.onload = function (){
		/*
			@Describe:Ajax请求数据并创建Demo元素
		*/
		var oBtn = document.getElementById('btn1');
		var oUl = document.getElementById('ul1'); 
		oBtn.onclick = function (){
			ajax('data.txt?time=?' + new Date().getTime(), function (str){
				var data = eval(str);
				for(var i=0; i<data.length; i++){
					var oLi = document.createElement('li');
					oLi.innerHTML = '愿望:<strong>'  + data[i].wish + '</strong>';
					oUl.appendChild(oLi);
				}
			}, function (){
				alert('Request Faild!');
			});
		};

	};
	</script>
</head>
<body>
	<input id="btn1" type="button" value="读取文本内容" />
	<ul id="ul1"></ul>
</body>
</html>
