<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="utf-8"/>
<title>index</title>
<script type="text/javascript">
'usestrict';
window.onload = function (){
//TODO:: validata




	// 测试:
;(function () {
    window.testFormHandler = checkRegisterForm;
    var form = document.getElementById('test-register');
    if (form.dispatchEvent) {
        var event = new Event('submit', {
            bubbles: true,
            cancelable: true
          });
        form.dispatchEvent(event);
    } else {
        form.fireEvent('onsubmit');
    }
})();
};

//check Register form
function checkRegisterForm()
{
	var username = document.getElementById("username");
	var passwrod = document.getElementById("password");
	var repassword = document.getElementById("repassword");

	var usernameReg = /^[0-9a-zA-z]{3,10}$/;
	var passwordReg = /^\w{6,20}$/;
	if(!usernameReg.test(username.value)){
		alert('用户名必须是3-10英文字母或数字');
		return false;
	}
	if(!passwordReg.test(password.value)){
		alert('口令必须是6-20位');
	}
	if(password.value !== repassword.value){
		alert('两输入的口令必须一致');
		return false;
	}
	
	return true;	
}

</script>
</head>
<body>
<h3>表单校验</h3>
<form onsubmit="return checkRegisterForm" id="test-register" action="#" target="_blank">
	<lable>用户名:<input type="text" name="username" id="username"/></lable><br/>
	<lable>口令:<input type="password" name="password" id="password"/></lable><br/>
	<lable>重复口令:<input type="re_password" name="re_password" id="repassword"/></lable><br/>
	<input type="submit" value="提交"/>
	<input type="reset" value="重置"/>
</form>

</body>
</html>